//                                                                                                               `                                                                                        
//                                                                                                                                                                                                        
//                                                                                                                                                                                                        
//                                                                                                              `                                                                                         
//                                                                                                              `               `                                                                         
//                                                                                                                                                                                                        
//                                                                                                             `          `                                                                               
//                                                                                                             `              `                                                                           
//                                                                                                                       `                                                                                
//                                                                                                            `         `                                                                                 
//                                                                                                            `                                                                                           
//                                                                                                           .         `                                                                                  
//                                                                                                                    `   `                                                                               
//                                                                                                          .            `                                                                                
//                                                                                                                   `  `                                                                                 
//                                                                                                         `        .  `                                                                                  
//                                                                                                         `       `  `                                                                                   
//                                                                                                        .          `                                                                                    
//                                                                                                       `          `                                                                                     
//                                                                                                               ` `                                                                                      
//                                                                                                      `       `                                                                                         
//                                                                                                     `       ``                                                                                         
//                                                                                                    .       `,                                                                                          
//                                                                                                   ,        ,                                                                                           
//                                                                                                  .       ..                                                                                            
//                                                                                                 ,       .` `                                                                                           
//                                                                                                ,`     ``..                                                                                             
//                                                                                              ```    ```.                                                                                               
//                                                                                             .`.   . ..`                                                                                                
//                                                                                           `  `  ` `..                                                                                                  
//                                                                                         `.  `,;,,`. `                                                                                                  
//                                                                                      ```,,;;::` ..                                                                                                     
//                                                                       ``...`      `,, `:`,,;:,``                                                                                                       
//                                                                 `.,:.`       `,,.;;;:..::.`.,,`                                                                                                        
//                                                             `.,;;::.   `.::;;;;;:::;,;,,,,.```                                                                                                         
//                                                          `.,;';;;:::::;;;;;::::;:;;:,.``                                                                                                               
//                                                    `.,:,,;;::,,:::::::;;;;;;:,,:,::,.```                                                                                                               
//                                                 `.,:,,,,,::,::::::::::::::,:,.,.```                                                                                                                    
//                                              `...,,,,.,,,:,:::,::;:,::::,::::;;,``                                                                                                                     
//                                            `.........,,,:,,:,,,,,:::::,,.`.````,,,:;.                                                                                                                  
//                                          ``........,,..,,,,,,,:::'''';;;::.```     ` .,.                                                                                                               
//                                        ``...........,,.,,,,,,,,::;;;;;;''''';,..`       ````                                                                                                           
//                                       ```..............,:,,::;;''''';;:;;;;;;:';;   `           `                                                                                                      
//                                     ``````..`...........,,::;::;;;'';'';:;;;;:..:`...```           ``                                                                                                  
//                                   ``````````..........,,,:,:,::::;;;;;;;;;:;;'+,,`.` ..                                                                                                                
//                                  ````````````..........,,,,,,,:,:::::;;;';;;:;;:,;.` ` ```                                                                                                             
//                                 ````````````............,.,,,,,:;;;;;'''''''';:;, `.`         `                                                                                                        
//                                ````````````............,..,.,,,,::,::;''''''''';',  `                                                                                                                  
//                               ````````````````.``.........,.,.,,,::,:::;;;'''''+;',  `                                                                                                                 
//                              ````````````````.```..............,,:;;;;;';;;;;;''';':                                                                                                                   
//                              ````````````````.````...............:;:::::::'''';;:,;';                                                                                                                  
//                             `````````````````````........,.........,,,:'';;;+''';'';;;`                                                                                                                
//                            ````````````````````.`......,............,,,:;;'''''''''';;:`                                                                                                               
//                            ```````````````````.`......,....,...,......,,,,::;;:::'+''';:`                                                                                                              
//                           `` `````````````````..`....,..,..,.`.,.......,,,,,,,,,,:;'''';:                                                                                                              
//                           `````````````````````.`.....,,,,,,.,,,,......,,,...,,,,:;;;''';:                                                                                                             
//                           `  ``````````````````.`...,.,,,:::;;;,,:....,,,..,.,,,::;;';''';:                                                                                                            
//                           ```````````````````````.,..,:,;::;:';:,::...,,...,,,,,,::;;''''';,                                                                                                           
//                           ````````````.`````````.,.`.,;:;:,:;;':,,,..,,,,,,,,,..,,::;;;'''';.                                                                                                          
//                           ``````..````.`````..``.,``.;';,;+##++;:,:,,,,,,,,,,,..,,:;;;;;;'';;`                                                                                                         
//                           `.````....`....`.`..`.,,`.,;':+##+#++;;:,:,,,,,,,,,,...,,,;;;;;;'';:                                                                                                         
//                           ```````....`,....`,...,...:';+;####+++;;:::,.,,,,,,......,,:;;;;'';;.                                                                                                        
//                           ``.````.....,.,,,.,..,,`.,'''::####+++';;:,,,,,,,,,,,....,,,:;;;;'';:                                                                                                        
//                          ``.````..`...,,,:,.,,:,,,.:';+,:####+++''';::,,,,:,:,,.....,,:::;;'';;:                                                                                                       
//                          ```.``.''.`..,,,:,,,:::,.,:';+,;####+++'';::,,,::;::;:,.....,,.:;;;:::;.                                                                                                      
//                          ``````:';..,,,::,:,:;::,:,:;;++#####+++'';,:,::;;;:;;::::,......,:::;;;:`                                                                                                     
//                          .```.`.';..,.:,::;::;;,,,,,:;+######++#';:::::;;;;;;::::::,....,,,::;;;;:                                                                                                     
//                           ````.`.,..,,,;:':::;::,,,,;:'########+'::::;;';;:;;:::::::,,...,::;;'';;,                                                                                                    
//                           ` ``...,,,:,,;;':,;;:::,,::;:++######'',:;;;;;;;:;;;;;;;::,,....,,:;;;;':`                                                                                                   
//                           `````..,,,::,;;';';':,,,,,:::,'####+'';:;;;:;;;;''';';;';;:,,,.,,,,:;;;':.                                                                                                   
//                          `...`...,:::,:;;;;::;..,,,,,::::;;;;;';,::;;;;;''''';;;';;;;:,,..,,,,::'';:                                                                                                   
//                          .`.,,`,:::::,:;;;:,;,.,,;,:::;;;::;;'::;;;;;;;'';;';;;:;:::;:,,...,,:;:''';.                                                                                                  
//                          ,`,,,,`.:,,,,::;;,,,.,.,,;.,,:,:;:::::;::;;;;';';;;;;:,::,,::,,...,,::;;''':                                                                                                  
//                          .`,,::,,,....,:;...,.....,.:,,,,,.,,::::::;::;;;;:::::::::,:::,...,,,::'''';,                                                                                                 
//                         ``.,::,,,.,,,,.,:..,...`.`.,,,,,.,::;.,,,:;;;;;''';;;;;;;;;:::::,..,,,::'''';;`                                                                                                
//                         .`,,,::,,,,..,:,:,`.,.,.`.`.,..:,,..,,,:::;;;;;;;;;::;;;;;::::::,,...,,:;'''';:                                                                                                
//                         ,`,:::,,,,,..,,,:,``,..`.`..,...,.`..,,,,::;::::;;;;;:;;;;;;:::,,....,,:;;''';;`                                                                                               
//                         ,.:::;:,,,,..,,,,,.`..```.``...,..,,.....,,::::,:;;';;;;;;::::,,,......:;''''';:                                                                                               
//                         ,.::;;;:,,,.,,,,:...`.`,``...`.......,.,,,,,:::::;;;;;;;;';;;;;:,,....,:;'''''';.                                                                                              
//                         .,:.:;;;::,.,,,,:.`````.```,.``.`.,.....,,,:;;:::;;''';'''''';:,,.....,,;'+'''';:                                                                                              
//                         .,:::;;;::,,.,,,:.````````...``````......,,::::::::;;;::;;;;;::,,.....,,:''+'''';,                                                                                             
//                         ,,:;;;;:::,,.,,,,.`````````.`.`.````.....,,,,,:;:;::::;;;;;;::::,,....,,:;''''''':`                                                                                            
//                         ,,:;;;;:::..:,,,,.`````````.`.`..```....,,,::::;::;;;:::;;;;:::::,....,:;;;++'''';:                                                                                            
//                         ,:::;;;::::,::,,,```````````..``........,:::::;;:;;;;;::;';;;;;::,....::;''''''''';.                                                                                           
//                         ,::;;;;:,:::::,.````````````..```.......,::::::;;;:::;;;:;';;;;;:,....,;;'''+''''';;`                                                                                          
//                         ,::;;;;:;:;:::`..```````````...```...`...,,:;;;::::::;;;;;;:;;;;:,...,,;'''++'''''':,`                                                                                         
//                         :::;;';':;;;:`...``````````````````......,,:;;::::;:;::;;;;;;;::,,...,:;''''++'''''';,                                                                                         
//                         ,::;;';;':,...,..`````````````````.......,,,,;:::::::;;;::::::,,,..,,:::';''++'''''';:.                                                                                        
//                         ,::;;';;+;,..,,,,``````````````..........,,,,,;::;:;;;;:::::;:,....,,,;;;'''''''''''';:`                                                                                       
//                         .;;;'';;;;;:,,,,.`````````````............,,,,,:;,:;;;;:::::::,....,,::;;'''''''''''';;:                                                                                       
//                          ;;;;;;+,:;::,,,`````````````............,.,,,,,,::::::::,,,,,,....,,::;;'+''''''''''';;,                                                                                      
//                          :;;;:;+::::;:::```````````............`....,,.,,,:,:,,,,,,.........,,:';'''''''''''''';;.                                                                                     
//                          .:::,;''::;;:::``````````....................,.,,,,,,,,.............,:''''''''''''''''';:.                                                                                    
//                           ,,,,:`;;;;;;:.`.```````........................,,,.,,,..```````....,,';'''''''''''''''';;`                                                                                   
//                           .,,:,  :';;;:.``.``````...`.....................,..,...``````.``...,,:;''''''''''''''''';:`                                                                                  
//                            ,.,,   .;;;,.....`````...`.......`````..................```````...,,;;'''''''''''''''''';:`                                                                                 
//                            `.',   .,:::......`````..``......``````.............```````````.`.,,:;'''''''''''''''''';;,                                                                                 
//                             ,::   `.,,:......``````.``......``````.............``````````.....,:;;''''''''''''''''';;;,                                                                                
//                              ::    .,,:.......``.``.````....````................`````````...,,.:;'''''''';'''''''''';;:,                                                                               
//                               .    `,,,......```.``..```....````..`........`..````````````...,,,;;'''''''';''''''''';;;:.
//                                     .,.,......`````````......````.........````.`..```.`.``...,,:,;''''''';''''''''''';;;:.
//                                     `.........``````.``......````.`.......`````..````..`......,:::';''''''';'''''''''';;;,.
//                                      ...,....```````.````....```........```````...```.```....,,:::;''''''';';'''''''''''';,.
//                                      `.......``.````.````.....```..`..`...``````..````......,,,:::;;'''';;';'''''''''''''';,`
//                                      ```.....```````.`````....```.....``..```````````........,,:;:;''''''''';'''''''''''''';,
//                                       ``.....```````.`````......`...````.````````````.......,.:::;;'''''';;';'''''''''''''';:,
//                                       ``.....```````..````......`.....````````````.`........,:,;::;;'''';''''''''''''''''';';:,
//                                       ```....```````..`````.......`..``.```````````.`.....,.,:::;;;'''''''''''''''''''''''';;;,.
//                                       ````...```````...`````.`...``...````````......`......,,::;:''''''';;;''''''''''''''''';;:..
//                                        ```...```````...`````....``.```.````.`...`.....`..,,::::;';''''';;';;';'''''''''''''''';:,`
//                                        ```.`````````...`````.....```...````.`....`....,.,,,,::;;''''''';;';;''';''''''''''''''';:.`
//                                        ```...``````....`````.....```````````..`.........,:::;:;;'+'';;'';'';;;''''''''''''''''';;:.
//                                         ```..``````....````......``````.```....,.....,,,,,;:;'''''''';';;;';;';'''''''''''''''''';:`
//                                         ````.``````....``.`......````.``````.....`..,,:;:;::;';''''';';;;;;';''''''''''''''''''''';:`
//                                          ````````.`.....``........`````````..,..,..,,:::;,'';;'';;';;;;;;;;;'''''''''''''''''''''';;,`
//                                          ```.`.``.......`......`````````.```...,,,.,,,::'';;;;'';;;;;;;;;;;;'''''''''''''''+''''''';:.
//                                           ````.``......```...``````.``.`.``...,,,:,,,;:;;;';;';';;;;';;;;;;'''''''''''''''''+''''''';:.
//                                           ````..`......``.....`.`.`.`.`...`...:,,,,::;;:;;';;;;;;;;'';;';';;''''''''''+''''''+''''''';:`
//                                           ```..........``.....`.`.```.......,,:::,;;;;;:;;;;;;;'';'';;;;;;';';'''''''''''''+'++''''''';,
//                                            `...........``.....```.......,.,.,::,:::;;;;;;';;;;;;';''';;';;';''''''''''''+'+''+''''''''';,
//                                            `...........`.....,.``,,,.,...,:,:::;::::;;;;'''';;;';''';';;;'';''''''''''''+''''''''''''';;:.
//                                            `.....,...........,...,,,.:.,,,,;:::;:;,:;;;';';';;';''';'';'';''''''+''''''''+'+'''''''''';;:,`
//                                            `.....,.........,..,.,,,,.:,,,:,:;::::;::;;;';;;';''''';'';'''''''''''''''''''++''''''''''''';:.
//                                            ...............,:.,,,,,:,,,;:::,::;:;::;:;;;;;;;;'';'''';;'';''''''''+'''''''''''''''''''''''';:.
//                                            ....,...,,,,.,,,:,,,::,::::;,::::;;::::::;;:;;;;;;;';';;;;'''''+'+''''''''+++''+'''''''''''';'';,.

#include <bits/stdc++.h>
#define DEBUG false
#define debugf if (DEBUG) printf
#define MAXN 200309
#define MAXM 900009
#define ALFA 256
#define MOD 1000000007
#define INF 0x3f3f3f3f
#define INFLL 0x3f3f3f3f3f3f3f3f
#define EPS 1e-9
#define PI 3.141592653589793238462643383279502884
#define FOR(x,n) for(int x=0; (x)<int(n); (x)++)
#define FOR1(x,n) for(int x=1; (x)<=int(n); (x)++)
#define REP(x,n) for(int x=int(n)-1; (x)>=0; (x)--)
#define REP1(x,n) for(int x=(n); (x)>0; (x)--)
#define pb push_back
#define pf push_front
#define fi first
#define se second
#define mp make_pair
#define all(x) x.begin(), x.end()
#define mset(x,y) memset(&x, (y), sizeof(x));
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef long double ld;
typedef unsigned int uint;
typedef vector<int> vi;
typedef pair<int, ll> ii;

const ll neutral = 0;
ll comp(ll a, ll b) {
	return a+b;
}

#define MAXLOGN 20
vector<ii> adjList[MAXN];
int level[MAXN], N;
int P[MAXN][MAXLOGN];
ll D[MAXN][MAXLOGN];

void depthdfs(int u) {
	for(int i=0; i<(int)adjList[u].size(); i++) {
		int v = adjList[u][i].first;
		ll w = adjList[u][i].second;
		if (v == P[u][0]) continue;
		P[v][0] = u; D[v][0] = w;
		level[v] = 1 + level[u];
		depthdfs(v);
	}
}

void computeP(int root) {
	level[root] = 0;
	P[root][0] = root; D[root][0] = neutral;
	depthdfs(root);
	for(int j = 1; j < MAXLOGN; j++)
		for(int i = 0; i < N; i++) {
			P[i][j] = P[P[i][j-1]][j-1];
			D[i][j] = comp(D[P[i][j-1]][j-1], D[i][j-1]);
		}
}

ii LCA(int u, int v) {
	if (level[u] > level[v]) swap(u, v);
	int d = level[v] - level[u];
	ll ans = neutral;
	for(int i = 0; i < MAXLOGN; i++) {
		if (d & (1<<i)) {
			ans = comp(ans, D[v][i]);
			v = P[v][i];
		}
	}
	if (u == v) return ii(u, ans);
	for(int i = MAXLOGN-1; i >= 0; i--)
		while(P[u][i] != P[v][i]) {
			ans = comp(ans, D[v][i]);
			ans = comp(ans, D[u][i]);
			u = P[u][i]; v = P[v][i];
		}
	ans = comp(ans, D[v][0]);
	ans = comp(ans, D[u][0]);
	return ii(P[u][0], ans);
}

int main() {
	int Q;
	while(scanf("%d", &N), N) {
		FOR(i, N) adjList[i].clear();
		FOR1(u, N-1) {
			int v, w;
			scanf("%d %d", &v, &w);
			adjList[u].pb({v, (ll)w});
			adjList[v].pb({u, (ll)w});
		}
		computeP(0);
		scanf("%d", &Q);
		while(Q --> 0) {
			int u, v;
			scanf("%d %d", &u, &v);
			printf("%lld%c", LCA(u, v).second, Q == 0 ? '\n' : ' ');
		}
	}
	return 0;
}